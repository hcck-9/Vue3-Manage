import{A as g}from"./index.a9c20b32.js";import{E as x}from"./el-overlay.a9414acf.js";import{E as U}from"./el-button.a91e83f6.js";import{E as P,a as q}from"./el-form-item.ef652a72.js";import{E as h}from"./el-input.50d72e9c.js";import"./el-tag.7c2e4455.js";import{E as k,a as I}from"./el-select.cb0e3f15.js";import{h as N}from"./setting.acd96df6.js";import{b as O}from"./mitt.dc7cd694.js";import{c as R}from"./product.2542ae59.js";import{_ as W,d as $,h as s,ae as j,i as E,o as m,$ as f,w as r,e as F,j as o,a as L,c as M,F as S,ax as T}from"./index.ea4bb737.js";import"./focus-trap.81366787.js";import"./use-form-item.94301b5b.js";import"./castArray.11eccfc8.js";import"./_baseClone.98dedeff.js";import"./_initCloneObject.9d0b46bd.js";import"./strings.7bfc8dd9.js";const z={class:"dialog-content"},G={class:"dialog-footer"},H=$({__name:"productInWarehouse",emits:["success"],setup(J,{expose:b,emit:V}){const d=s(!1),B=s("right");j(()=>{O.all.clear()});const i=s([]);(async()=>{const n=await N();i.value=n.data})();const _=s(),t=E({product_id:null,product_name:"",product_category:"",product_unit:"",product_in_warehouse_number:null,product_single_price:null,product_create_person:"",in_memo:""}),C=E({product_id:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u5165\u5E93\u7684\u7F16\u53F7",trigger:["change","blur"]}],product_name:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u5165\u5E93\u540D\u79F0",trigger:["change","blur"]}],product_category:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u7C7B\u522B",trigger:["change","blur"]}],product_unit:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u5355\u4F4D",trigger:["change","blur"]}],product_in_warehouse_number:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u5E93\u5B58\u6570\u91CF",trigger:["change","blur"]}],product_single_price:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u5355\u4EF7",trigger:["change","blur"]}],product_create_person:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EA7\u54C1\u5165\u5E93\u8D1F\u8D23\u4EBA",trigger:["change","blur"]}]}),v=V,A=async n=>{!n||await n.validate(async e=>{if(e){const l=await R(t);l.data.status===0?(g({message:l.data.message,type:"success"}),v("success"),d.value=!1):g.error(l.data.message)}})};return b({open:()=>{d.value=!0}}),(n,e)=>{const l=h,a=P,p=k,c=I,y=q,w=U,D=x;return m(),f(D,{modelValue:d.value,"onUpdate:modelValue":e[9]||(e[9]=u=>d.value=u),title:"\u6DFB\u52A0\u4EA7\u54C1\u5165\u5E93",width:"600px"},{footer:r(()=>[F("span",G,[o(w,{type:"primary",onClick:e[8]||(e[8]=u=>A(_.value))},{default:r(()=>[L(" \u786E\u5B9A ")]),_:1})])]),default:r(()=>[F("div",z,[o(y,{ref_key:"createProductRef",ref:_,"label-position":B.value,model:t,rules:C,"label-width":"120px"},{default:r(()=>[o(a,{label:"\u5165\u5E93\u7F16\u53F7",prop:"product_id"},{default:r(()=>[o(l,{modelValue:t.product_id,"onUpdate:modelValue":e[0]||(e[0]=u=>t.product_id=u)},null,8,["modelValue"])]),_:1}),o(a,{label:"\u4EA7\u54C1\u540D\u79F0",prop:"product_name"},{default:r(()=>[o(l,{modelValue:t.product_name,"onUpdate:modelValue":e[1]||(e[1]=u=>t.product_name=u)},null,8,["modelValue"])]),_:1}),o(a,{label:"\u4EA7\u54C1\u7C7B\u522B",prop:"product_category"},{default:r(()=>[o(c,{modelValue:t.product_category,"onUpdate:modelValue":e[2]||(e[2]=u=>t.product_category=u),placeholder:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u7C7B\u522B"},{default:r(()=>[(m(!0),M(S,null,T(i.value,u=>(m(),f(p,{key:u,label:u,value:u},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(a,{label:"\u4EA7\u54C1\u5355\u4F4D",prop:"product_unit"},{default:r(()=>[o(c,{modelValue:t.product_unit,"onUpdate:modelValue":e[3]||(e[3]=u=>t.product_unit=u),placeholder:"\u8BF7\u9009\u62E9\u4EA7\u54C1\u5355\u4F4D"},{default:r(()=>[o(p,{label:"\u4E2A",value:"\u4E2A"}),o(p,{label:"\u4EF6",value:"\u4EF6"})]),_:1},8,["modelValue"])]),_:1}),o(a,{label:"\u5E93\u5B58\u6570\u91CF",prop:"product_in_warehouse_number"},{default:r(()=>[o(l,{modelValue:t.product_in_warehouse_number,"onUpdate:modelValue":e[4]||(e[4]=u=>t.product_in_warehouse_number=u)},null,8,["modelValue"])]),_:1}),o(a,{label:"\u4EA7\u54C1\u5355\u4EF7(\u5355\u4F4D)",prop:"product_single_price"},{default:r(()=>[o(l,{modelValue:t.product_single_price,"onUpdate:modelValue":e[5]||(e[5]=u=>t.product_single_price=u)},null,8,["modelValue"])]),_:1}),o(a,{label:"\u5165\u5E93\u64CD\u4F5C\u4EBA",prop:"product_create_person"},{default:r(()=>[o(l,{modelValue:t.product_create_person,"onUpdate:modelValue":e[6]||(e[6]=u=>t.product_create_person=u)},null,8,["modelValue"])]),_:1}),o(a,{label:"\u5165\u5E93\u5907\u6CE8",prop:"in_memo"},{default:r(()=>[o(l,{type:"textarea",modelValue:t.in_memo,"onUpdate:modelValue":e[7]||(e[7]=u=>t.in_memo=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["label-position","model","rules"])])]),_:1},8,["modelValue"])}}});var ce=W(H,[["__scopeId","data-v-8ce2987c"]]);export{ce as default};
