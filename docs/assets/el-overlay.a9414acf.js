import{a3 as pe,ac as X,a2 as Q,A as le,m as ye,ae as Ce,T as Ee,am as be,v as j,y as ge,R as G,d as H,j as z,r as g,an as Te,S as ee,C as k,o as N,c as F,e as U,n as S,u as o,t as Se,w,$ as q,a0 as Ae,b as P,f as ae,h,B as De,z as Le,a6 as Me,U as we,W as he,V as ke,ao as Ie,X as Be,Y as Oe,ap as Ne}from"./index.ea4bb737.js";import{o as x,u as J,v as re,B as oe,C as Re,D as $e,F as Ye,b as Z,d as K,t as _e,G as ze,E as He,_ as ie,H as Ue,l as Ve,I as Ke,q as Xe,J as Ge,K as te,w as Fe}from"./index.a9c20b32.js";import{t as We,g as je,F as qe,U as ue,a as se,b as Pe,u as ne,E as xe}from"./focus-trap.81366787.js";const Je=(...e)=>t=>{e.forEach(s=>{pe(s)?s(t):s.value=t})};var V=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(V||{});const W=e=>{const t=X(e)?e:[e],s=[];return t.forEach(a=>{var l;X(a)?s.push(...W(a)):Q(a)&&X(a.children)?s.push(...W(a.children)):(s.push(a),Q(a)&&((l=a.component)==null?void 0:l.subTree)&&s.push(...W(a.component.subTree)))}),s},Ze=(e,t,s)=>{let a={offsetX:0,offsetY:0};const l=r=>{const m=r.clientX,c=r.clientY,{offsetX:f,offsetY:p}=a,y=e.value.getBoundingClientRect(),u=y.left,v=y.top,I=y.width,R=y.height,$=document.documentElement.clientWidth,B=document.documentElement.clientHeight,Y=-u+f,_=-v+p,O=$-u-I+f,A=B-v-R+p,T=D=>{const n=Math.min(Math.max(f+D.clientX-m,Y),O),b=Math.min(Math.max(p+D.clientY-c,_),A);a={offsetX:n,offsetY:b},e.value&&(e.value.style.transform=`translate(${x(n)}, ${x(b)})`)},E=()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",E)},d=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",l)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",l)};le(()=>{ye(()=>{s.value?d():i()})}),Ce(()=>{i()})},Qe=(e,t={})=>{Ee(e)||We("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||J("popup"),a=be(()=>s.bm("parent","hidden"));if(!re||oe(document.body,a.value))return;let l=0,d=!1,i="0";const r=()=>{setTimeout(()=>{Ye(document==null?void 0:document.body,a.value),d&&document&&(document.body.style.width=i)},200)};j(e,m=>{if(!m){r();return}d=!oe(document.body,a.value),d&&(i=document.body.style.width),l=je(s.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,f=Re(document.body,"overflowY");l>0&&(c||f==="scroll")&&d&&(document.body.style.width=`calc(100% - ${l}px)`),$e(document.body,a.value)}),ge(()=>r())},de=e=>{if(!e)return{onClick:G,onMousedown:G,onMouseup:G};let t=!1,s=!1;return{onClick:i=>{t&&s&&e(i),t=s=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{s=i.target===i.currentTarget}}},eo=Z({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:K([String,Array,Object])},zIndex:{type:K([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var so=H({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:t,emit:s}){const a=J(to),l=m=>{s("click",m)},{onClick:d,onMousedown:i,onMouseup:r}=de(e.customMaskEvent?void 0:l);return()=>e.mask?z("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:i,onMouseup:r},[g(t,"default")],V.STYLE|V.CLASS|V.PROPS,["onClick","onMouseup","onMousedown"]):Te("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[g(t,"default")])}});const no=so,ce=Symbol("dialogInjectionKey"),fe=Z({center:Boolean,alignCenter:Boolean,closeIcon:{type:_e},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=["aria-level"],ro=["aria-label"],io=["id"],uo=H({name:"ElDialogContent"}),co=H({...uo,props:fe,emits:lo,setup(e){const t=e,{t:s}=ze(),{Close:a}=Ue,{dialogRef:l,headerRef:d,bodyId:i,ns:r,style:m}=ee(ce),{focusTrapRef:c}=ee(qe),f=k(()=>[r.b(),r.is("fullscreen",t.fullscreen),r.is("draggable",t.draggable),r.is("align-center",t.alignCenter),{[r.m("center")]:t.center},t.customClass]),p=Je(c,l),y=k(()=>t.draggable);return Ze(l,d,y),(u,v)=>(N(),F("div",{ref:o(p),class:S(o(f)),style:ae(o(m)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:d,class:S(o(r).e("header"))},[g(u.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":u.ariaLevel,class:S(o(r).e("title"))},Se(u.title),11,ao)]),u.showClose?(N(),F("button",{key:0,"aria-label":o(s)("el.dialog.close"),class:S(o(r).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=I=>u.$emit("close"))},[z(o(He),{class:S(o(r).e("close"))},{default:w(()=>[(N(),q(Ae(u.closeIcon||o(a))))]),_:1},8,["class"])],10,ro)):P("v-if",!0)],2),U("div",{id:o(i),class:S(o(r).e("body"))},[g(u.$slots,"default")],10,io),u.$slots.footer?(N(),F("footer",{key:0,class:S(o(r).e("footer"))},[g(u.$slots,"footer")],2)):P("v-if",!0)],6))}});var fo=ie(co,[["__file","dialog-content.vue"]]);const mo=Z({...fe,appendToBody:Boolean,appendTo:{type:K(String),default:"body"},beforeClose:{type:K(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),vo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ue]:e=>Ve(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},po=(e,t)=>{var s;const l=Le().emit,{nextZIndex:d}=Ke();let i="";const r=se(),m=se(),c=h(!1),f=h(!1),p=h(!1),y=h((s=e.zIndex)!=null?s:d());let u,v;const I=Xe("namespace",Ge),R=k(()=>{const C={},M=`--${I.value}-dialog`;return e.fullscreen||(e.top&&(C[`${M}-margin-top`]=e.top),e.width&&(C[`${M}-width`]=x(e.width))),C}),$=k(()=>e.alignCenter?{display:"flex"}:{});function B(){l("opened")}function Y(){l("closed"),l(ue,!1),e.destroyOnClose&&(p.value=!1)}function _(){l("close")}function O(){v==null||v(),u==null||u(),e.openDelay&&e.openDelay>0?{stop:u}=te(()=>D(),e.openDelay):D()}function A(){u==null||u(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=te(()=>n(),e.closeDelay):n()}function T(){function C(M){M||(f.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(C):A()}function E(){e.closeOnClickModal&&T()}function D(){!re||(c.value=!0)}function n(){c.value=!1}function b(){l("openAutoFocus")}function L(){l("closeAutoFocus")}function me(C){var M;((M=C.detail)==null?void 0:M.focusReason)==="pointer"&&C.preventDefault()}e.lockScroll&&Qe(c);function ve(){e.closeOnPressEscape&&T()}return j(()=>e.modelValue,C=>{C?(f.value=!1,O(),p.value=!0,y.value=Pe(e.zIndex)?d():y.value++,De(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):c.value&&A()}),j(()=>e.fullscreen,C=>{!t.value||(C?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),le(()=>{e.modelValue&&(c.value=!0,p.value=!0,O())}),{afterEnter:B,afterLeave:Y,beforeLeave:_,handleClose:T,onModalClick:E,close:A,doClose:n,onOpenAutoFocus:b,onCloseAutoFocus:L,onCloseRequested:ve,onFocusoutPrevented:me,titleId:r,bodyId:m,closed:f,style:R,overlayDialogStyle:$,rendered:p,visible:c,zIndex:y}},yo=["aria-label","aria-labelledby","aria-describedby"],Co=H({name:"ElDialog",inheritAttrs:!1}),Eo=H({...Co,props:mo,emits:vo,setup(e,{expose:t}){const s=e,a=Me();ne({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},k(()=>!!a.title)),ne({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},k(()=>!!s.customClass));const l=J("dialog"),d=h(),i=h(),r=h(),{visible:m,titleId:c,bodyId:f,style:p,overlayDialogStyle:y,rendered:u,zIndex:v,afterEnter:I,afterLeave:R,beforeLeave:$,handleClose:B,onModalClick:Y,onOpenAutoFocus:_,onCloseAutoFocus:O,onCloseRequested:A,onFocusoutPrevented:T}=po(s,d);we(ce,{dialogRef:d,headerRef:i,bodyId:f,ns:l,rendered:u,style:p});const E=de(Y),D=k(()=>s.draggable&&!s.fullscreen);return t({visible:m,dialogContentRef:r}),(n,b)=>(N(),q(Ne,{to:n.appendTo,disabled:n.appendTo!=="body"?!1:!n.appendToBody},[z(Oe,{name:"dialog-fade",onAfterEnter:o(I),onAfterLeave:o(R),onBeforeLeave:o($),persisted:""},{default:w(()=>[he(z(o(no),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":o(v)},{default:w(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:o(c),"aria-describedby":o(f),class:S(`${o(l).namespace.value}-overlay-dialog`),style:ae(o(y)),onClick:b[0]||(b[0]=(...L)=>o(E).onClick&&o(E).onClick(...L)),onMousedown:b[1]||(b[1]=(...L)=>o(E).onMousedown&&o(E).onMousedown(...L)),onMouseup:b[2]||(b[2]=(...L)=>o(E).onMouseup&&o(E).onMouseup(...L))},[z(o(xe),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(O),onFocusoutPrevented:o(T),onReleaseRequested:o(A)},{default:w(()=>[o(u)?(N(),q(fo,ke({key:0,ref_key:"dialogContentRef",ref:r},n.$attrs,{"custom-class":n.customClass,center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:o(D),fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,"aria-level":n.headerAriaLevel,onClose:o(B)}),Ie({header:w(()=>[n.$slots.title?g(n.$slots,"title",{key:1}):g(n.$slots,"header",{key:0,close:o(B),titleId:o(c),titleClass:o(l).e("title")})]),default:w(()=>[g(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:w(()=>[g(n.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):P("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,yo)]),_:3},8,["mask","overlay-class","z-index"]),[[Be,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var bo=ie(Eo,[["__file","dialog.vue"]]);const Ao=Fe(bo);export{Ao as E,Je as c,W as f};
