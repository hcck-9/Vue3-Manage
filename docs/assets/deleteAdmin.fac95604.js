import{A as s}from"./index.a9c20b32.js";import{E as C}from"./el-overlay.a9414acf.js";import{E}from"./el-button.a91e83f6.js";import{b as o}from"./mitt.dc7cd694.js";import{t as m}from"./operation.f673c6c4.js";import{h as A,i as F}from"./userinfo.7e0ce5ee.js";import{_ as y,d as x,h as l,ae as h,o as r,$ as k,w as c,e as I,j as V,a as U,c as d}from"./index.ea4bb737.js";import"./focus-trap.81366787.js";import"./use-form-item.94301b5b.js";import"./log.43245a8a.js";const w={key:0},b={key:1},N={class:"dialog-footer"},S=x({__name:"deleteAdmin",emits:["success"],setup(T,{expose:p,emit:_}){const u=l(!1);h(()=>{o.all.clear()});const a=l(),n=l(),t=l();o.on("deleteID",e=>{a.value=e}),o.on("deleteUserID",e=>{n.value=e.id,t.value=e.account});const f=_,B=async()=>{if(a.value){const e=await A(a.value);e.data.status===0?(s({message:e.data.message,type:"success"}),u.value=!1,f("success"),m("\u7BA1\u7406\u5458",localStorage.getItem("name"),"\u7BA1\u7406\u5458\u8D26\u53F7"+t.value+"\u8FDB\u884C\u4E86\u964D\u7EA7","\u9AD8\u7EA7")):s.error(e.data.message)}if(n.value){const e=await F(n.value,t.value);e.data.status===0?(s({message:e.data.message,type:"success"}),u.value=!1,o.emit("offDialog",1),m("\u7BA1\u7406\u5458",localStorage.getItem("name"),"\u7528\u6237\u8D26\u53F7"+t.value+"\u8FDB\u884C\u4E86\u5220\u9664","\u9AD8\u7EA7")):s.error(e.data.message)}};return p({open:()=>{u.value=!0}}),(e,i)=>{const v=E,D=C;return r(),k(D,{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=g=>u.value=g),title:"\u5220\u9664\u64CD\u4F5C",width:"600px",center:""},{footer:c(()=>[I("span",N,[V(v,{type:"primary",onClick:B},{default:c(()=>[U(" \u786E\u5B9A ")]),_:1})])]),default:c(()=>[a.value?(r(),d("span",w,"\u662F\u5426\u53BB\u6389\u6B64\u7528\u6237\u7684\u7BA1\u7406\u5458\u804C\u4F4D\uFF1F\u5220\u9664\u540E\u6B64\u7528\u6237\u5C06\u91CD\u65B0\u5C55\u73B0\u5728\u7528\u6237\u5217\u8868\u4E2D")):(r(),d("span",b,"\u8BF7\u614E\u91CD\u64CD\u4F5C\uFF0C\u5220\u9664\u540E\u6B64\u7528\u6237\u5C06\u6C38\u4E45\u5931\u53BB\u767B\u5F55\u8D44\u683C"))]),_:1},8,["modelValue"])}}});var P=y(S,[["__scopeId","data-v-01e0d1a2"]]);export{P as default};
