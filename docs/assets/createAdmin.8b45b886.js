import{A as f}from"./index.a9c20b32.js";import{E as U}from"./el-overlay.a9414acf.js";import{E as k}from"./el-button.a91e83f6.js";import{E as q,a as I}from"./el-form-item.ef652a72.js";import{E as N}from"./el-input.50d72e9c.js";import"./el-tag.7c2e4455.js";import{E as R,a as T}from"./el-select.cb0e3f15.js";import{b as B}from"./mitt.dc7cd694.js";import{f as j}from"./userinfo.7e0ce5ee.js";import{e as L}from"./setting.acd96df6.js";import{_ as M,d as O,h as d,ae as S,i as g,o as p,$ as E,w as l,e as A,j as a,a as $,c as h,F as z,ax as G}from"./index.ea4bb737.js";import"./focus-trap.81366787.js";import"./use-form-item.94301b5b.js";import"./castArray.11eccfc8.js";import"./_baseClone.98dedeff.js";import"./_initCloneObject.9d0b46bd.js";import"./strings.7bfc8dd9.js";const H={class:"dialog-content"},J={class:"dialog-footer"},K=O({__name:"createAdmin",emits:["success"],setup(P,{expose:F,emit:V}){const s=d(!1);S(()=>{B.all.clear()});const c=d([]);(async()=>{const o=await L();c.value=o.data})();const v=d(),e=g({account:null,password:"",name:"",sex:"",email:"",department:"",identity:""}),b=g({account:[{required:!0,message:"\u8BF7\u8F93\u5165\u7BA1\u7406\u5458\u7684\u6CE8\u518C\u8D26\u53F7",trigger:["change","blur"]}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u7BA1\u7406\u5458\u7684\u5BC6\u7801",trigger:["change","blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7BA1\u7406\u5458\u7684\u59D3\u540D",trigger:["change","blur"]}],sex:[{required:!0,message:"\u8BF7\u8F93\u5165\u7BA1\u7406\u5458\u7684\u6027\u522B",trigger:["change","blur"]}],email:[{required:!0,message:"\u8BF7\u8F93\u5165\u7BA1\u7406\u5458\u7684\u6CE8\u518C\u90AE\u7BB1",trigger:["change","blur"]}],department:[{required:!0,message:"\u8BF7\u8F93\u5165\u7BA1\u7406\u5458\u7684\u90E8\u95E8",trigger:["change","blur"]}]}),n=d();B.on("createTitle",o=>{o==1&&(n.value="\u65B0\u5EFA\u4EA7\u54C1\u7BA1\u7406\u5458",e.identity="\u4EA7\u54C1\u7BA1\u7406\u5458"),o==2&&(n.value="\u65B0\u5EFA\u7528\u6237\u7BA1\u7406\u5458",e.identity="\u7528\u6237\u7BA1\u7406\u5458"),o==3&&(n.value="\u65B0\u5EFA\u6D88\u606F\u7BA1\u7406\u5458",e.identity="\u6D88\u606F\u7BA1\u7406\u5458")});const x=V,y=async()=>{const o=await j(e);o.data.status===0?(f({message:o.data.message,type:"success"}),s.value=!1,x("success")):f.error(o.data.message)};return F({open:()=>{s.value=!0}}),(o,t)=>{const m=N,r=q,i=R,_=T,D=I,w=k,C=U;return p(),E(C,{modelValue:s.value,"onUpdate:modelValue":t[6]||(t[6]=u=>s.value=u),title:n.value,width:"600px"},{footer:l(()=>[A("span",J,[a(w,{type:"primary",onClick:y},{default:l(()=>[$(" \u786E\u5B9A ")]),_:1})])]),default:l(()=>[A("div",H,[a(D,{ref_key:"createAdminRef",ref:v,model:e,rules:b},{default:l(()=>[a(r,{label:"\u8D26\u53F7",prop:"account"},{default:l(()=>[a(m,{modelValue:e.account,"onUpdate:modelValue":t[0]||(t[0]=u=>e.account=u)},null,8,["modelValue"])]),_:1}),a(r,{label:"\u5BC6\u7801",prop:"password"},{default:l(()=>[a(m,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=u=>e.password=u)},null,8,["modelValue"])]),_:1}),a(r,{label:"\u59D3\u540D",prop:"name"},{default:l(()=>[a(m,{modelValue:e.name,"onUpdate:modelValue":t[2]||(t[2]=u=>e.name=u)},null,8,["modelValue"])]),_:1}),a(r,{label:"\u6027\u522B",prop:"sex"},{default:l(()=>[a(_,{modelValue:e.sex,"onUpdate:modelValue":t[3]||(t[3]=u=>e.sex=u),placeholder:"\u8BF7\u9009\u62E9\u6027\u522B"},{default:l(()=>[a(i,{label:"\u7537",value:"man"}),a(i,{label:"\u5973",value:"woman"})]),_:1},8,["modelValue"])]),_:1}),a(r,{label:"\u90AE\u7BB1",prop:"email"},{default:l(()=>[a(m,{modelValue:e.email,"onUpdate:modelValue":t[4]||(t[4]=u=>e.email=u)},null,8,["modelValue"])]),_:1}),a(r,{label:"\u90E8\u95E8",prop:"department"},{default:l(()=>[a(_,{modelValue:e.department,"onUpdate:modelValue":t[5]||(t[5]=u=>e.department=u),placeholder:"\u8BF7\u9009\u62E9\u90E8\u95E8"},{default:l(()=>[(p(!0),h(z,null,G(c.value,u=>(p(),E(i,{key:u,label:u,value:u},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","title"])}}});var _e=M(K,[["__scopeId","data-v-d6d1068e"]]);export{_e as default};
