import{A as l}from"./index.a9c20b32.js";import{E as B}from"./el-overlay.a9414acf.js";import{E as A}from"./el-button.a91e83f6.js";import{u as M,e as y,d as L}from"./message.e70da8d9.js";import{b as n}from"./mitt.dc7cd694.js";import{f as C,r as h,d as x}from"./message.a74655c9.js";import{_ as k,d as w,h as o,ae as T,o as c,$ as V,w as d,e as b,j as H,a as I,c as m}from"./index.ea4bb737.js";import"./focus-trap.81366787.js";import"./use-form-item.94301b5b.js";const R=["innerHTML"],U=["innerHTML"],j=["innerHTML"],N={class:"dialog-footer"},S=w({__name:"deleteMessage",emits:["success"],setup($,{expose:_,emit:g}){const s=o(!1),v=M();T(()=>{n.all.clear()});const u=o(),r=o(),a=o(),t=o();n.on("deleteMessageId",e=>{a.value="\u5220\u9664\u4FE1\u606F",t.value="\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u516C\u544A\u5417\uFF1F",u.value=e.id,r.value=e.message_receipt_object}),n.on("renewID",e=>{a.value="\u6062\u590D\u6D88\u606F",t.value="\u60A8\u786E\u5B9A\u8981\u6062\u590D\u8FD9\u4E2A\u516C\u544A\u5417\uFF1F",u.value=e.id,r.value=e.message_receipt_object}),n.on("realDelete",e=>{a.value="\u771F\u6B63\u5220\u9664\u4FE1\u606F",t.value="\u8BF7\u614E\u91CD\u64CD\u4F5C\uFF01\u60A8\u786E\u5B9A\u8981\u771F\u6B63\u5220\u9664\u8FD9\u4E2A\u516C\u544A\u5417\uFF1F",u.value=e.id});const i=g,F=async()=>{if(a.value==="\u5220\u9664\u4FE1\u606F"){const e=await C(u.value);e.data.status===0?(await y(u.value,r.value),v.returnReadList(localStorage.getItem("id")),l({message:e.data.message,type:"success"}),s.value=!1,i("success")):l.error(e.data.message)}if(a.value==="\u6062\u590D\u6D88\u606F"){const e=await h(u.value);e.data.status===0?(await L(u.value,r.value),v.returnReadList(localStorage.getItem("id")),l({message:e.data.message,type:"success"}),s.value=!1,i("success")):l.error(e.data.message)}if(a.value==="\u771F\u6B63\u5220\u9664\u4FE1\u606F"){const e=await x(u.value);e.data.status===0?(l({message:e.data.message,type:"success"}),s.value=!1,i("success")):l.error(e.data.message)}};return _({open:()=>{s.value=!0}}),(e,p)=>{const f=A,E=B;return c(),V(E,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=D=>s.value=D),title:a.value,width:"400px",center:""},{footer:d(()=>[b("span",N,[H(f,{type:"primary",onClick:F},{default:d(()=>[I(" \u786E\u5B9A ")]),_:1})])]),default:d(()=>[a.value.value=="\u5220\u9664\u4FE1\u606F"?(c(),m("span",{key:0,innerHTML:t.value},null,8,R)):a.value.value=="\u6062\u590D\u6D88\u606F"?(c(),m("span",{key:1,innerHTML:t.value},null,8,U)):(c(),m("span",{key:2,innerHTML:t.value},null,8,j))]),_:1},8,["modelValue","title"])}}});var Y=k(S,[["__scopeId","data-v-2afc17dc"]]);export{Y as default};
